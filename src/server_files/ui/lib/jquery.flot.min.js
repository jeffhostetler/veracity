/* Javascript plotting library for jQuery, version 0.8 alpha.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */
(function(b){b.color={};b.color.make=function(d,e,g,f){var c={};c.r=d||0;c.g=e||0;c.b=g||0;c.a=f!=null?f:1;c.add=function(h,i){for(var j=0;j<h.length;++j){c[h.charAt(j)]+=i}return c.normalize()};c.scale=function(h,i){for(var j=0;j<h.length;++j){c[h.charAt(j)]*=i}return c.normalize()};c.toString=function(){if(c.a>=1){return"rgb("+[c.r,c.g,c.b].join(",")+")"}else{return"rgba("+[c.r,c.g,c.b,c.a].join(",")+")"}};c.normalize=function(){function h(j,i,k){return i<j?j:(i>k?k:i)}c.r=h(0,parseInt(c.r),255);c.g=h(0,parseInt(c.g),255);c.b=h(0,parseInt(c.b),255);c.a=h(0,c.a,1);return c};c.clone=function(){return b.color.make(c.r,c.b,c.g,c.a)};return c.normalize()};b.color.extract=function(d,e){var c;do{c=d.css(e).toLowerCase();if(c!=""&&c!="transparent"){break}d=d.parent()}while(!b.nodeName(d.get(0),"body"));if(c=="rgba(0, 0, 0, 0)"){c="transparent"}return b.color.parse(c)};b.color.parse=function(c){var d,f=b.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c)){return f(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10))}if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return f(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]))}if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c)){return f(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55)}if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c)){return f(parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55,parseFloat(d[4]))}if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c)){return f(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16))}if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c)){return f(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16))}var e=b.trim(c).toLowerCase();if(e=="transparent"){return f(255,255,255,0)}else{d=a[e]||[0,0,0];return f(d[0],d[1],d[2])}};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function(c){function b(aw,aj,H,ag){var P=[],N={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,timezone:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1000/60},hooks:{}},aA=null,ae=null,w=null,F=null,y=null,n=[],ax=[],o={left:0,right:0,top:0,bottom:0},E=0,G=0,h=0,u=0,al={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},ar=this;ar.setData=ak;ar.setupGrid=r;ar.draw=W;ar.getPlaceholder=function(){return aw};ar.getCanvas=function(){return aA};ar.getPlotOffset=function(){return o};ar.width=function(){return h};ar.height=function(){return u};ar.offset=function(){var aC=w.offset();aC.left+=o.left;aC.top+=o.top;return aC};ar.getData=function(){return P};ar.getAxes=function(){var aD={},aC;c.each(n.concat(ax),function(aE,aF){if(aF){aD[aF.direction+(aF.n!=1?aF.n:"")+"axis"]=aF}});return aD};ar.getXAxes=function(){return n};ar.getYAxes=function(){return ax};ar.c2p=A;ar.p2c=at;ar.getOptions=function(){return N};ar.highlight=v;ar.unhighlight=T;ar.triggerRedrawOverlay=f;ar.pointOffset=function(aC){return{left:parseInt(n[aB(aC,"x")-1].p2c(+aC.x)+o.left,10),top:parseInt(ax[aB(aC,"y")-1].p2c(+aC.y)+o.top,10)}};ar.shutdown=ah;ar.resize=function(){z();g(aA);g(ae)};ar.hooks=al;D(ar);Z(H);X();ak(aj);r();W();ai();function ao(aE,aC){aC=[ar].concat(aC);for(var aD=0;aD<aE.length;++aD){aE[aD].apply(this,aC)}}function D(){for(var aC=0;aC<ag.length;++aC){var aD=ag[aC];aD.init(ar);if(aD.options){c.extend(true,N,aD.options)}}}function Z(aD){var aC;c.extend(true,N,aD);if(N.xaxis.color==null){N.xaxis.color=N.grid.color}if(N.yaxis.color==null){N.yaxis.color=N.grid.color}if(N.xaxis.tickColor==null){N.xaxis.tickColor=N.grid.tickColor}if(N.yaxis.tickColor==null){N.yaxis.tickColor=N.grid.tickColor}if(N.grid.borderColor==null){N.grid.borderColor=N.grid.color}if(N.grid.tickColor==null){N.grid.tickColor=c.color.parse(N.grid.color).scale("a",0.22).toString()}for(aC=0;aC<Math.max(1,N.xaxes.length);++aC){N.xaxes[aC]=c.extend(true,{},N.xaxis,N.xaxes[aC])}for(aC=0;aC<Math.max(1,N.yaxes.length);++aC){N.yaxes[aC]=c.extend(true,{},N.yaxis,N.yaxes[aC])}if(N.xaxis.noTicks&&N.xaxis.ticks==null){N.xaxis.ticks=N.xaxis.noTicks}if(N.yaxis.noTicks&&N.yaxis.ticks==null){N.yaxis.ticks=N.yaxis.noTicks}if(N.x2axis){N.xaxes[1]=c.extend(true,{},N.xaxis,N.x2axis);N.xaxes[1].position="top"}if(N.y2axis){N.yaxes[1]=c.extend(true,{},N.yaxis,N.y2axis);N.yaxes[1].position="right"}if(N.grid.coloredAreas){N.grid.markings=N.grid.coloredAreas}if(N.grid.coloredAreasColor){N.grid.markingsColor=N.grid.coloredAreasColor}if(N.lines){c.extend(true,N.series.lines,N.lines)}if(N.points){c.extend(true,N.series.points,N.points)}if(N.bars){c.extend(true,N.series.bars,N.bars)}if(N.shadowSize!=null){N.series.shadowSize=N.shadowSize}if(N.highlightColor!=null){N.series.highlightColor=N.highlightColor}for(aC=0;aC<N.xaxes.length;++aC){V(n,aC+1).options=N.xaxes[aC]}for(aC=0;aC<N.yaxes.length;++aC){V(ax,aC+1).options=N.yaxes[aC]}for(var aE in al){if(N.hooks[aE]&&N.hooks[aE].length){al[aE]=al[aE].concat(N.hooks[aE])}}ao(al.processOptions,[N])}function ak(aC){P=Y(aC);ay();x()}function Y(aF){var aD=[];for(var aC=0;aC<aF.length;++aC){var aE=c.extend(true,{},N.series);if(aF[aC].data!=null){aE.data=aF[aC].data;delete aF[aC].data;c.extend(true,aE,aF[aC]);aF[aC].data=aE.data}else{aE.data=aF[aC]}aD.push(aE)}return aD}function aB(aD,aE){var aC=aD[aE+"axis"];if(typeof aC=="object"){aC=aC.n}if(typeof aC!="number"){aC=1}return aC}function k(){return c.grep(n.concat(ax),function(aC){return aC})}function A(aF){var aD={},aC,aE;for(aC=0;aC<n.length;++aC){aE=n[aC];if(aE&&aE.used){aD["x"+aE.n]=aE.c2p(aF.left)}}for(aC=0;aC<ax.length;++aC){aE=ax[aC];if(aE&&aE.used){aD["y"+aE.n]=aE.c2p(aF.top)}}if(aD.x1!==undefined){aD.x=aD.x1}if(aD.y1!==undefined){aD.y=aD.y1}return aD}function at(aG){var aE={},aD,aF,aC;for(aD=0;aD<n.length;++aD){aF=n[aD];if(aF&&aF.used){aC="x"+aF.n;if(aG[aC]==null&&aF.n==1){aC="x"}if(aG[aC]!=null){aE.left=aF.p2c(aG[aC]);break}}}for(aD=0;aD<ax.length;++aD){aF=ax[aD];if(aF&&aF.used){aC="y"+aF.n;if(aG[aC]==null&&aF.n==1){aC="y"}if(aG[aC]!=null){aE.top=aF.p2c(aG[aC]);break}}}return aE}function V(aD,aC){if(!aD[aC-1]){aD[aC-1]={n:aC,direction:aD==n?"x":"y",options:c.extend(true,{},aD==n?N.xaxis:N.yaxis)}}return aD[aC-1]}function ay(){var aN=P.length,aE=0,aF;for(aF=0;aF<P.length;++aF){var aK=P[aF].color;if(aK!=null){aN--;if(typeof aK=="number"&&aK>aE){aE=aK}}}if(aE>aN){aN=aE+1}var aJ,aC=[],aI=N.colors,aH=aI.length,aD=0;for(aF=0;aF<aN;aF++){aJ=c.color.parse(aI[aF%aH]||"#666");if(aF%aH==0&&aF){if(aD>=0){if(aD<0.5){aD=-aD-0.2}else{aD=0}}else{aD=-aD}}aC[aF]=aJ.scale("rgb",1+aD)}var aG=0,aO;for(aF=0;aF<P.length;++aF){aO=P[aF];if(aO.color==null){aO.color=aC[aG].toString();++aG}else{if(typeof aO.color=="number"){aO.color=aC[aO.color].toString()}}if(aO.lines.show==null){var aM,aL=true;for(aM in aO){if(aO[aM]&&aO[aM].show){aL=false;break}}if(aL){aO.lines.show=true}}aO.xaxis=V(n,aB(aO,"x"));aO.yaxis=V(ax,aB(aO,"y"))}}function x(){var aQ=Number.POSITIVE_INFINITY,aK=Number.NEGATIVE_INFINITY,aC=Number.MAX_VALUE,aW,aU,aT,aP,aE,aL,aV,aR,aJ,aI,aD,a2,aZ,aN,a1,aY;function aG(a5,a4,a3){if(a4<a5.datamin&&a4!=-aC){a5.datamin=a4}if(a3>a5.datamax&&a3!=aC){a5.datamax=a3}}c.each(k(),function(a3,a4){a4.datamin=aQ;a4.datamax=aK;a4.used=false});for(aW=0;aW<P.length;++aW){aL=P[aW];aL.datapoints={points:[]};ao(al.processRawData,[aL,aL.data,aL.datapoints])}for(aW=0;aW<P.length;++aW){aL=P[aW];a1=aL.data;aY=aL.datapoints.format;if(!aY){aY=[];aY.push({x:true,number:true,required:true});aY.push({y:true,number:true,required:true});if(aL.bars.show||(aL.lines.show&&aL.lines.fill)){aY.push({y:true,number:true,required:false,defaultValue:0});if(aL.bars.horizontal){delete aY[aY.length-1].y;aY[aY.length-1].x=true}}aL.datapoints.format=aY}if(aL.datapoints.pointsize!=null){continue}aL.datapoints.pointsize=aY.length;aR=aL.datapoints.pointsize;aV=aL.datapoints.points;var aH=aL.lines.show&&aL.lines.steps;aL.xaxis.used=aL.yaxis.used=true;for(aU=aT=0;aU<a1.length;++aU,aT+=aR){aN=a1[aU];var aF=aN==null;if(!aF){for(aP=0;aP<aR;++aP){a2=aN[aP];aZ=aY[aP];if(aZ){if(aZ.number&&a2!=null){a2=+a2;if(isNaN(a2)){a2=null}else{if(a2==Infinity){a2=aC}else{if(a2==-Infinity){a2=-aC}}}}if(a2==null){if(aZ.required){aF=true}if(aZ.defaultValue!=null){a2=aZ.defaultValue}}}aV[aT+aP]=a2}}if(aF){for(aP=0;aP<aR;++aP){a2=aV[aT+aP];if(a2!=null){aZ=aY[aP];if(aZ.x){aG(aL.xaxis,a2,a2)}if(aZ.y){aG(aL.yaxis,a2,a2)}}aV[aT+aP]=null}}else{if(aH&&aT>0&&aV[aT-aR]!=null&&aV[aT-aR]!=aV[aT]&&aV[aT-aR+1]!=aV[aT+1]){for(aP=0;aP<aR;++aP){aV[aT+aR+aP]=aV[aT+aP]}aV[aT+1]=aV[aT-aR+1];aT+=aR}}}}for(aW=0;aW<P.length;++aW){aL=P[aW];ao(al.processDatapoints,[aL,aL.datapoints])}for(aW=0;aW<P.length;++aW){aL=P[aW];aV=aL.datapoints.points,aR=aL.datapoints.pointsize;aY=aL.datapoints.format;var aM=aQ,aS=aQ,aO=aK,aX=aK;for(aU=0;aU<aV.length;aU+=aR){if(aV[aU]==null){continue}for(aP=0;aP<aR;++aP){a2=aV[aU+aP];aZ=aY[aP];if(!aZ||a2==aC||a2==-aC){continue}if(aZ.x){if(a2<aM){aM=a2}if(a2>aO){aO=a2}}if(aZ.y){if(a2<aS){aS=a2}if(a2>aX){aX=a2}}}}if(aL.bars.show){var a0;switch(aL.bars.align){case"left":a0=0;break;case"right":a0=-aL.bars.barWidth;break;case"center":a0=-aL.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+aL.bars.align)}if(aL.bars.horizontal){aS+=a0;aX+=a0+aL.bars.barWidth}else{aM+=a0;aO+=a0+aL.bars.barWidth}}aG(aL.xaxis,aM,aO);aG(aL.yaxis,aS,aX)}c.each(k(),function(a3,a4){if(a4.datamin==aQ){a4.datamin=null}if(a4.datamax==aK){a4.datamax=null}})}function ad(aD){var aC=window.devicePixelRatio||1;var aE=aD.webkitBackingStorePixelRatio||aD.mozBackingStorePixelRatio||aD.msBackingStorePixelRatio||aD.oBackingStorePixelRatio||aD.backingStorePixelRatio||1;return aC/aE}function i(aC,aE){var aG=document.createElement("canvas");aG.className=aE;if(!aC){c(aG).css({position:"absolute",left:0,top:0})}c(aG).appendTo(aw);if(!aG.getContext){if(window.G_vmlCanvasManager){aG=window.G_vmlCanvasManager.initElement(aG)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.")}}var aD=aG.getContext("2d");var aF=ad(aD);aG.width=E*aF;aG.height=G*aF;aG.style.width=E+"px";aG.style.height=G+"px";aD.save();aD.scale(aF,aF);return aG}function z(){E=aw.width();G=aw.height();if(E<=0||G<=0){throw new Error("Invalid dimensions for plot, width = "+E+", height = "+G)}}function g(aE){var aC=aE.getContext("2d");var aD=ad(aC);if(aE.style.width!=E){aE.width=E*aD;aE.style.width=E+"px"}if(aE.style.height!=G){aE.height=G*aD;aE.style.height=G+"px"}aC.restore();aC.save();aC.scale(aD,aD)}function X(){var aD,aC=aw.children("canvas.flot-base"),aE=aw.children("canvas.flot-overlay");if(aC.length==0||aE==0){aw.html("");aw.css({padding:0});if(aw.css("position")=="static"){aw.css("position","relative")}z();aA=i(true,"flot-base");ae=i(false,"flot-overlay");aD=false}else{aA=aC.get(0);ae=aE.get(0);aD=true}F=aA.getContext("2d");y=ae.getContext("2d");w=c(ae);if(aD){aw.data("plot").shutdown();ar.resize();y.clearRect(0,0,E,G);w.unbind();aw.children().not([aA,ae]).remove()}aw.data("plot",ar)}function ai(){if(N.grid.hoverable){w.mousemove(aa);w.mouseleave(j)}if(N.grid.clickable){w.click(Q)}ao(al.bindEvents,[w])}function ah(){if(K){clearTimeout(K)}w.unbind("mousemove",aa);w.unbind("mouseleave",j);w.unbind("click",Q);ao(al.shutdown,[w])}function p(aH){function aD(aI){return aI}var aG,aC,aE=aH.options.transform||aD,aF=aH.options.inverseTransform;if(aH.direction=="x"){aG=aH.scale=h/Math.abs(aE(aH.max)-aE(aH.min));aC=Math.min(aE(aH.max),aE(aH.min))}else{aG=aH.scale=u/Math.abs(aE(aH.max)-aE(aH.min));aG=-aG;aC=Math.max(aE(aH.max),aE(aH.min))}if(aE==aD){aH.p2c=function(aI){return(aI-aC)*aG}}else{aH.p2c=function(aI){return(aE(aI)-aC)*aG}}if(!aF){aH.c2p=function(aI){return aC+aI/aG}}else{aH.c2p=function(aI){return aF(aC+aI/aG)}}}function J(aE){var aC=aE.options,aJ=aE.ticks||[],aK=aC.labelWidth||0,aI=aC.labelHeight||0,aH=aE.font;F.save();F.font=aH.style+" "+aH.variant+" "+aH.weight+" "+aH.size+"px '"+aH.family+"'";for(var aG=0;aG<aJ.length;++aG){var aL=aJ[aG];aL.lines=[];aL.width=aL.height=0;if(!aL.label){continue}var aN=(aL.label+"").replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n");for(var aF=0;aF<aN.length;++aF){var aM={text:aN[aF]},aD=F.measureText(aM.text);aM.width=aD.width;aM.height=aD.height!=null?aD.height:aH.size;aM.height+=Math.round(aH.size*0.15);aL.width=Math.max(aM.width,aL.width);aL.height+=aM.height;aL.lines.push(aM)}if(aC.labelWidth==null){aK=Math.max(aK,aL.width)}if(aC.labelHeight==null){aI=Math.max(aI,aL.height)}}F.restore();aE.labelWidth=Math.ceil(aK);aE.labelHeight=Math.ceil(aI)}function av(aE){var aD=aE.labelWidth,aM=aE.labelHeight,aI=aE.options.position,aG=aE.options.tickLength,aH=N.grid.axisMargin,aK=N.grid.labelMargin,aL=aE.direction=="x"?n:ax,aF,aN;var aC=c.grep(aL,function(aO){return aO&&aO.options.position==aI&&aO.reserveSpace});if(c.inArray(aE,aC)==aC.length-1){aH=0}if(aG==null){var aJ=c.grep(aL,function(aO){return aO&&aO.reserveSpace});aN=c.inArray(aE,aJ)==0;if(aN){aG="full"}else{aG=5}}if(!isNaN(+aG)){aK+=+aG}if(aE.direction=="x"){aM+=aK;if(aI=="bottom"){o.bottom+=aM+aH;aE.box={top:G-o.bottom,height:aM}}else{aE.box={top:o.top+aH,height:aM};o.top+=aM+aH}}else{aD+=aK;if(aI=="left"){aE.box={left:o.left+aH,width:aD};o.left+=aD+aH}else{o.right+=aD+aH;aE.box={left:E-o.right,width:aD}}}aE.position=aI;aE.tickLength=aG;aE.box.padding=aK;aE.innermost=aN}function U(aC){if(aC.direction=="x"){aC.box.left=o.left-aC.labelWidth/2;aC.box.width=E-o.left-o.right+aC.labelWidth}else{aC.box.top=o.top-aC.labelHeight/2;aC.box.height=G-o.bottom-o.top+aC.labelHeight}}function L(){var aE=N.grid.minBorderMargin,aF={x:0,y:0},aC,aD;if(aE==null){aE=0;for(aC=0;aC<P.length;++aC){aE=Math.max(aE,2*(P[aC].points.radius+P[aC].points.lineWidth/2))}}aF.x=aF.y=Math.ceil(aE);c.each(k(),function(aH,aI){var aG=aI.direction;if(aI.reserveSpace){aF[aG]=Math.ceil(Math.max(aF[aG],(aG=="x"?aI.labelWidth:aI.labelHeight)/2))}});o.left=Math.max(aF.x,o.left);o.right=Math.max(aF.x,o.right);o.top=Math.max(aF.y,o.top);o.bottom=Math.max(aF.y,o.bottom)}function r(){var aE,aH=k(),aI=N.grid.show;for(var aD in o){var aG=N.grid.margin||0;o[aD]=typeof aG=="number"?aG:aG[aD]||0}ao(al.processOffset,[o]);for(var aD in o){if(typeof(N.grid.borderWidth)=="object"){o[aD]=aI?N.grid.borderWidth[aD]:0}else{o[aD]=aI?N.grid.borderWidth:0}}c.each(aH,function(aJ,aK){aK.show=aK.options.show;if(aK.show==null){aK.show=aK.used}aK.reserveSpace=aK.show||aK.options.reserveSpace;l(aK)});if(aI){var aF={style:aw.css("font-style"),size:Math.round(0.8*(+aw.css("font-size").replace("px","")||13)),variant:aw.css("font-variant"),weight:aw.css("font-weight"),family:aw.css("font-family")};var aC=c.grep(aH,function(aJ){return aJ.reserveSpace});c.each(aC,function(aJ,aK){R(aK);O(aK);aq(aK,aK.ticks);aK.font=c.extend({},aF,aK.options.font);J(aK)});for(aE=aC.length-1;aE>=0;--aE){av(aC[aE])}L();c.each(aC,function(aJ,aK){U(aK)})}h=E-o.left-o.right;u=G-o.bottom-o.top;c.each(aH,function(aJ,aK){p(aK)});m()}function l(aF){var aG=aF.options,aE=+(aG.min!=null?aG.min:aF.datamin),aC=+(aG.max!=null?aG.max:aF.datamax),aI=aC-aE;if(aI==0){var aD=aC==0?1:0.01;if(aG.min==null){aE-=aD}if(aG.max==null||aG.min!=null){aC+=aD}}else{var aH=aG.autoscaleMargin;if(aH!=null){if(aG.min==null){aE-=aI*aH;if(aE<0&&aF.datamin!=null&&aF.datamin>=0){aE=0}}if(aG.max==null){aC+=aI*aH;if(aC>0&&aF.datamax!=null&&aF.datamax<=0){aC=0}}}}aF.min=aE;aF.max=aC}function R(aH){var aD=aH.options;var aG;if(typeof aD.ticks=="number"&&aD.ticks>0){aG=aD.ticks}else{aG=0.3*Math.sqrt(aH.direction=="x"?E:G)}aH.delta=(aH.max-aH.min)/aG;if(aD.mode=="time"&&!aH.tickGenerator){throw new Error("Time mode requires the flot.time plugin.")}if(!aH.tickGenerator){var aF=aD.tickDecimals;var aI=-Math.floor(Math.log(aH.delta)/Math.LN10);if(aF!=null&&aI>aF){aI=aF}var aC=Math.pow(10,-aI);var aE=aH.delta/aC;var aN;if(aE<1.5){aN=1}else{if(aE<3){aN=2;if(aE>2.25&&(aF==null||aI+1<=aF)){aN=2.5;++aI}}else{if(aE<7.5){aN=5}else{aN=10}}}aN*=aC;if(aD.minTickSize!=null&&aN<aD.minTickSize){aN=aD.minTickSize}aH.tickDecimals=Math.max(0,aF!=null?aF:aI);aH.tickSize=aD.tickSize||aN;aH.tickGenerator=function(aQ){var aS=[],aT=a(aQ.min,aQ.tickSize),aP=0,aO=Number.NaN,aR;do{aR=aO;aO=aT+aP*aQ.tickSize;aS.push(aO);++aP}while(aO<aQ.max&&aO!=aR);return aS};aH.tickFormatter=function(aT,aR){var aQ=Math.pow(10,aR.tickDecimals);var aS=""+Math.round(aT*aQ)/aQ;if(aR.tickDecimals!=null){var aP=aS.indexOf(".");var aO=aP==-1?0:aS.length-aP-1;if(aO<aR.tickDecimals){return(aO?aS:aS+".")+(""+aQ).substr(1,aR.tickDecimals-aO)}}return aS}}if(c.isFunction(aD.tickFormatter)){aH.tickFormatter=function(aO,aP){return""+aD.tickFormatter(aO,aP)}}if(aD.alignTicksWithAxis!=null){var aJ=(aH.direction=="x"?n:ax)[aD.alignTicksWithAxis-1];if(aJ&&aJ.used&&aJ!=aH){var aM=aH.tickGenerator(aH);if(aM.length>0){if(aD.min==null){aH.min=Math.min(aH.min,aM[0])}if(aD.max==null&&aM.length>1){aH.max=Math.max(aH.max,aM[aM.length-1])}}aH.tickGenerator=function(aQ){var aR=[],aO,aP;for(aP=0;aP<aJ.ticks.length;++aP){aO=(aJ.ticks[aP].v-aJ.min)/(aJ.max-aJ.min);aO=aQ.min+aO*(aQ.max-aQ.min);aR.push(aO)}return aR};if(!aH.mode&&aD.tickDecimals==null){var aL=Math.max(0,-Math.floor(Math.log(aH.delta)/Math.LN10)+1),aK=aH.tickGenerator(aH);if(!(aK.length>1&&/\..*0$/.test((aK[1]-aK[0]).toFixed(aL)))){aH.tickDecimals=aL}}}}}function O(aG){var aI=aG.options.ticks,aH=[];if(aI==null||(typeof aI=="number"&&aI>0)){aH=aG.tickGenerator(aG)}else{if(aI){if(c.isFunction(aI)){aH=aI(aG)}else{aH=aI}}}var aF,aC;aG.ticks=[];for(aF=0;aF<aH.length;++aF){var aD=null;var aE=aH[aF];if(typeof aE=="object"){aC=+aE[0];if(aE.length>1){aD=aE[1]}}else{aC=+aE}if(aD==null){aD=aG.tickFormatter(aC,aG)}if(!isNaN(aC)){aG.ticks.push({v:aC,label:aD})}}}function aq(aC,aD){if(aC.options.autoscaleMargin&&aD.length>0){if(aC.options.min==null){aC.min=Math.min(aC.min,aD[0].v)}if(aC.options.max==null&&aD.length>1){aC.max=Math.max(aC.max,aD[aD.length-1].v)}}}function W(){F.clearRect(0,0,E,G);ao(al.drawBackground,[F]);var aD=N.grid;if(aD.show&&aD.backgroundColor){M()}if(aD.show&&!aD.aboveData){ac();S()}for(var aC=0;aC<P.length;++aC){ao(al.drawSeries,[F,P[aC]]);d(P[aC])}ao(al.draw,[F]);if(aD.show&&aD.aboveData){ac();S()}}function B(aC,aG){var aD,aI,aJ,aK,aH=k();for(var aF=0;aF<aH.length;++aF){aD=aH[aF];if(aD.direction==aG){aK=aG+aD.n+"axis";if(!aC[aK]&&aD.n==1){aK=aG+"axis"}if(aC[aK]){aI=aC[aK].from;aJ=aC[aK].to;break}}}if(!aC[aK]){aD=aG=="x"?n[0]:ax[0];aI=aC[aG+"1"];aJ=aC[aG+"2"]}if(aI!=null&&aJ!=null&&aI>aJ){var aE=aI;aI=aJ;aJ=aE}return{from:aI,to:aJ,axis:aD}}function M(){F.save();F.translate(o.left,o.top);F.fillStyle=an(N.grid.backgroundColor,u,0,"rgba(255, 255, 255, 0)");F.fillRect(0,0,h,u);F.restore()}function ac(){var aG,aM,aO,aK;F.save();F.translate(o.left,o.top);var aI=N.grid.markings;if(aI){if(c.isFunction(aI)){aM=ar.getAxes();aM.xmin=aM.xaxis.min;aM.xmax=aM.xaxis.max;aM.ymin=aM.yaxis.min;aM.ymax=aM.yaxis.max;aI=aI(aM)}for(aG=0;aG<aI.length;++aG){var aE=aI[aG],aD=B(aE,"x"),aJ=B(aE,"y");if(aD.from==null){aD.from=aD.axis.min}if(aD.to==null){aD.to=aD.axis.max}if(aJ.from==null){aJ.from=aJ.axis.min}if(aJ.to==null){aJ.to=aJ.axis.max}if(aD.to<aD.axis.min||aD.from>aD.axis.max||aJ.to<aJ.axis.min||aJ.from>aJ.axis.max){continue}aD.from=Math.max(aD.from,aD.axis.min);aD.to=Math.min(aD.to,aD.axis.max);aJ.from=Math.max(aJ.from,aJ.axis.min);aJ.to=Math.min(aJ.to,aJ.axis.max);if(aD.from==aD.to&&aJ.from==aJ.to){continue}aD.from=aD.axis.p2c(aD.from);aD.to=aD.axis.p2c(aD.to);aJ.from=aJ.axis.p2c(aJ.from);aJ.to=aJ.axis.p2c(aJ.to);if(aD.from==aD.to||aJ.from==aJ.to){F.beginPath();F.strokeStyle=aE.color||N.grid.markingsColor;F.lineWidth=aE.lineWidth||N.grid.markingsLineWidth;F.moveTo(aD.from,aJ.from);F.lineTo(aD.to,aJ.to);F.stroke()}else{F.fillStyle=aE.color||N.grid.markingsColor;F.fillRect(aD.from,aJ.to,aD.to-aD.from,aJ.from-aJ.to)}}}aM=k();aO=N.grid.borderWidth;for(var aF=0;aF<aM.length;++aF){var aC=aM[aF],aH=aC.box,aS=aC.tickLength,aP,aN,aR,aL;if(!aC.show||aC.ticks.length==0){continue}F.strokeStyle=aC.options.tickColor||c.color.parse(aC.options.color).scale("a",0.22).toString();F.lineWidth=1;if(aC.direction=="x"){aP=0;if(aS=="full"){aN=(aC.position=="top"?0:u)}else{aN=aH.top-o.top+(aC.position=="top"?aH.height:0)}}else{aN=0;if(aS=="full"){aP=(aC.position=="left"?0:h)}else{aP=aH.left-o.left+(aC.position=="left"?aH.width:0)}}if(!aC.innermost){F.beginPath();aR=aL=0;if(aC.direction=="x"){aR=h}else{aL=u}if(F.lineWidth==1){aP=Math.floor(aP)+0.5;aN=Math.floor(aN)+0.5}F.moveTo(aP,aN);F.lineTo(aP+aR,aN+aL);F.stroke()}F.beginPath();for(aG=0;aG<aC.ticks.length;++aG){var aQ=aC.ticks[aG].v;aR=aL=0;if(aQ<aC.min||aQ>aC.max||(aS=="full"&&((typeof aO=="object"&&aO[aC.position]>0)||aO>0)&&(aQ==aC.min||aQ==aC.max))){continue}if(aC.direction=="x"){aP=aC.p2c(aQ);aL=aS=="full"?-u:aS;if(aC.position=="top"){aL=-aL}}else{aN=aC.p2c(aQ);aR=aS=="full"?-h:aS;if(aC.position=="left"){aR=-aR}}if(F.lineWidth==1){if(aC.direction=="x"){aP=Math.floor(aP)+0.5}else{aN=Math.floor(aN)+0.5}}F.moveTo(aP,aN);F.lineTo(aP+aR,aN+aL)}F.stroke()}if(aO){aK=N.grid.borderColor;if(typeof aO=="object"||typeof aK=="object"){if(typeof aO!=="object"){aO={top:aO,right:aO,bottom:aO,left:aO}}if(typeof aK!=="object"){aK={top:aK,right:aK,bottom:aK,left:aK}}if(aO.top>0){F.strokeStyle=aK.top;F.lineWidth=aO.top;F.beginPath();F.moveTo(0-aO.left,0-aO.top/2);F.lineTo(h,0-aO.top/2);F.stroke()}if(aO.right>0){F.strokeStyle=aK.right;F.lineWidth=aO.right;F.beginPath();F.moveTo(h+aO.right/2,0-aO.top);F.lineTo(h+aO.right/2,u);F.stroke()}if(aO.bottom>0){F.strokeStyle=aK.bottom;F.lineWidth=aO.bottom;F.beginPath();F.moveTo(h+aO.right,u+aO.bottom/2);F.lineTo(0,u+aO.bottom/2);F.stroke()}if(aO.left>0){F.strokeStyle=aK.left;F.lineWidth=aO.left;F.beginPath();F.moveTo(0-aO.left/2,u+aO.bottom);F.lineTo(0-aO.left/2,0);F.stroke()}}else{F.lineWidth=aO;F.strokeStyle=N.grid.borderColor;F.strokeRect(-aO/2,-aO/2,h+aO,u+aO)}}F.restore()}function S(){F.save();c.each(k(),function(aL,aC){if(!aC.show||aC.ticks.length==0){return}var aG=aC.box,aI=aC.font;F.fillStyle=aC.options.color;F.font=aI.style+" "+aI.variant+" "+aI.weight+" "+aI.size+"px "+aI.family;F.textAlign="start";F.textBaseline="middle";for(var aF=0;aF<aC.ticks.length;++aF){var aH=aC.ticks[aF];if(!aH.label||aH.v<aC.min||aH.v>aC.max){continue}var aK,aJ,aE=0,aM;for(var aD=0;aD<aH.lines.length;++aD){aM=aH.lines[aD];if(aC.direction=="x"){aK=o.left+aC.p2c(aH.v)-aM.width/2;if(aC.position=="bottom"){aJ=aG.top+aG.padding}else{aJ=aG.top+aG.height-aG.padding-aH.height}}else{aJ=o.top+aC.p2c(aH.v)-aH.height/2;if(aC.position=="left"){aK=aG.left+aG.width-aG.padding-aM.width}else{aK=aG.left+aG.padding}}aJ+=aM.height/2+aE;aE+=aM.height;if(c.browser.opera){aK=Math.floor(aK);aJ=Math.ceil(aJ-2)}F.fillText(aM.text,aK,aJ)}}});F.restore()}function d(aC){if(aC.lines.show){au(aC)}if(aC.bars.show){e(aC)}if(aC.points.show){ap(aC)}}function au(aF){function aE(aQ,aR,aJ,aV,aU){var aW=aQ.points,aK=aQ.pointsize,aO=null,aN=null;F.beginPath();for(var aP=aK;aP<aW.length;aP+=aK){var aM=aW[aP-aK],aT=aW[aP-aK+1],aL=aW[aP],aS=aW[aP+1];if(aM==null||aL==null){continue}if(aT<=aS&&aT<aU.min){if(aS<aU.min){continue}aM=(aU.min-aT)/(aS-aT)*(aL-aM)+aM;aT=aU.min}else{if(aS<=aT&&aS<aU.min){if(aT<aU.min){continue}aL=(aU.min-aT)/(aS-aT)*(aL-aM)+aM;aS=aU.min}}if(aT>=aS&&aT>aU.max){if(aS>aU.max){continue}aM=(aU.max-aT)/(aS-aT)*(aL-aM)+aM;aT=aU.max}else{if(aS>=aT&&aS>aU.max){if(aT>aU.max){continue}aL=(aU.max-aT)/(aS-aT)*(aL-aM)+aM;aS=aU.max}}if(aM<=aL&&aM<aV.min){if(aL<aV.min){continue}aT=(aV.min-aM)/(aL-aM)*(aS-aT)+aT;aM=aV.min}else{if(aL<=aM&&aL<aV.min){if(aM<aV.min){continue}aS=(aV.min-aM)/(aL-aM)*(aS-aT)+aT;aL=aV.min}}if(aM>=aL&&aM>aV.max){if(aL>aV.max){continue}aT=(aV.max-aM)/(aL-aM)*(aS-aT)+aT;aM=aV.max}else{if(aL>=aM&&aL>aV.max){if(aM>aV.max){continue}aS=(aV.max-aM)/(aL-aM)*(aS-aT)+aT;aL=aV.max}}if(aM!=aO||aT!=aN){F.moveTo(aV.p2c(aM)+aR,aU.p2c(aT)+aJ)}aO=aL;aN=aS;F.lineTo(aV.p2c(aL)+aR,aU.p2c(aS)+aJ)}F.stroke()}function aG(aJ,aR,aQ){var aX=aJ.points,aW=aJ.pointsize,aO=Math.min(Math.max(0,aQ.min),aQ.max),aY=0,aV,aU=false,aN=1,aM=0,aS=0;while(true){if(aW>0&&aY>aX.length+aW){break}aY+=aW;var a0=aX[aY-aW],aL=aX[aY-aW+aN],aZ=aX[aY],aK=aX[aY+aN];if(aU){if(aW>0&&a0!=null&&aZ==null){aS=aY;aW=-aW;aN=2;continue}if(aW<0&&aY==aM+aW){F.fill();aU=false;aW=-aW;aN=1;aY=aM=aS+aW;continue}}if(a0==null||aZ==null){continue}if(a0<=aZ&&a0<aR.min){if(aZ<aR.min){continue}aL=(aR.min-a0)/(aZ-a0)*(aK-aL)+aL;a0=aR.min}else{if(aZ<=a0&&aZ<aR.min){if(a0<aR.min){continue}aK=(aR.min-a0)/(aZ-a0)*(aK-aL)+aL;aZ=aR.min}}if(a0>=aZ&&a0>aR.max){if(aZ>aR.max){continue}aL=(aR.max-a0)/(aZ-a0)*(aK-aL)+aL;a0=aR.max}else{if(aZ>=a0&&aZ>aR.max){if(a0>aR.max){continue}aK=(aR.max-a0)/(aZ-a0)*(aK-aL)+aL;aZ=aR.max}}if(!aU){F.beginPath();F.moveTo(aR.p2c(a0),aQ.p2c(aO));aU=true}if(aL>=aQ.max&&aK>=aQ.max){F.lineTo(aR.p2c(a0),aQ.p2c(aQ.max));F.lineTo(aR.p2c(aZ),aQ.p2c(aQ.max));continue}else{if(aL<=aQ.min&&aK<=aQ.min){F.lineTo(aR.p2c(a0),aQ.p2c(aQ.min));F.lineTo(aR.p2c(aZ),aQ.p2c(aQ.min));continue}}var aP=a0,aT=aZ;if(aL<=aK&&aL<aQ.min&&aK>=aQ.min){a0=(aQ.min-aL)/(aK-aL)*(aZ-a0)+a0;aL=aQ.min}else{if(aK<=aL&&aK<aQ.min&&aL>=aQ.min){aZ=(aQ.min-aL)/(aK-aL)*(aZ-a0)+a0;aK=aQ.min}}if(aL>=aK&&aL>aQ.max&&aK<=aQ.max){a0=(aQ.max-aL)/(aK-aL)*(aZ-a0)+a0;aL=aQ.max}else{if(aK>=aL&&aK>aQ.max&&aL<=aQ.max){aZ=(aQ.max-aL)/(aK-aL)*(aZ-a0)+a0;aK=aQ.max}}if(a0!=aP){F.lineTo(aR.p2c(aP),aQ.p2c(aL))}F.lineTo(aR.p2c(a0),aQ.p2c(aL));F.lineTo(aR.p2c(aZ),aQ.p2c(aK));if(aZ!=aT){F.lineTo(aR.p2c(aZ),aQ.p2c(aK));F.lineTo(aR.p2c(aT),aQ.p2c(aK))}}}F.save();F.translate(o.left,o.top);F.lineJoin="round";var aH=aF.lines.lineWidth,aC=aF.shadowSize;if(aH>0&&aC>0){F.lineWidth=aC;F.strokeStyle="rgba(0,0,0,0.1)";var aI=Math.PI/18;aE(aF.datapoints,Math.sin(aI)*(aH/2+aC/2),Math.cos(aI)*(aH/2+aC/2),aF.xaxis,aF.yaxis);F.lineWidth=aC/2;aE(aF.datapoints,Math.sin(aI)*(aH/2+aC/4),Math.cos(aI)*(aH/2+aC/4),aF.xaxis,aF.yaxis)}F.lineWidth=aH;F.strokeStyle=aF.color;var aD=af(aF.lines,aF.color,0,u);if(aD){F.fillStyle=aD;aG(aF.datapoints,aF.xaxis,aF.yaxis)}if(aH>0){aE(aF.datapoints,0,0,aF.xaxis,aF.yaxis)}F.restore()}function ap(aF){function aI(aO,aN,aV,aL,aT,aU,aR,aK){var aS=aO.points,aJ=aO.pointsize;for(var aM=0;aM<aS.length;aM+=aJ){var aQ=aS[aM],aP=aS[aM+1];if(aQ==null||aQ<aU.min||aQ>aU.max||aP<aR.min||aP>aR.max){continue}F.beginPath();aQ=aU.p2c(aQ);aP=aR.p2c(aP)+aL;if(aK=="circle"){F.arc(aQ,aP,aN,0,aT?Math.PI:Math.PI*2,false)}else{aK(F,aQ,aP,aN,aT)}F.closePath();if(aV){F.fillStyle=aV;F.fill()}F.stroke()}}F.save();F.translate(o.left,o.top);var aH=aF.points.lineWidth,aD=aF.shadowSize,aC=aF.points.radius,aG=aF.points.symbol;if(aH>0&&aD>0){var aE=aD/2;F.lineWidth=aE;F.strokeStyle="rgba(0,0,0,0.1)";aI(aF.datapoints,aC,null,aE+aE/2,true,aF.xaxis,aF.yaxis,aG);F.strokeStyle="rgba(0,0,0,0.2)";aI(aF.datapoints,aC,null,aE/2,true,aF.xaxis,aF.yaxis,aG)}F.lineWidth=aH;F.strokeStyle=aF.color;aI(aF.datapoints,aC,af(aF.points,aF.color),0,false,aF.xaxis,aF.yaxis,aG);F.restore()}function C(aO,aN,aW,aJ,aR,aG,aE,aM,aL,aV,aS,aD){var aF,aU,aK,aQ,aH,aC,aP,aI,aT;if(aS){aI=aC=aP=true;aH=false;aF=aW;aU=aO;aQ=aN+aJ;aK=aN+aR;if(aU<aF){aT=aU;aU=aF;aF=aT;aH=true;aC=false}}else{aH=aC=aP=true;aI=false;aF=aO+aJ;aU=aO+aR;aK=aW;aQ=aN;if(aQ<aK){aT=aQ;aQ=aK;aK=aT;aI=true;aP=false}}if(aU<aM.min||aF>aM.max||aQ<aL.min||aK>aL.max){return}if(aF<aM.min){aF=aM.min;aH=false}if(aU>aM.max){aU=aM.max;aC=false}if(aK<aL.min){aK=aL.min;aI=false}if(aQ>aL.max){aQ=aL.max;aP=false}aF=aM.p2c(aF);aK=aL.p2c(aK);aU=aM.p2c(aU);aQ=aL.p2c(aQ);if(aE){aV.beginPath();aV.moveTo(aF,aK);aV.lineTo(aF,aQ);aV.lineTo(aU,aQ);aV.lineTo(aU,aK);aV.fillStyle=aE(aK,aQ);aV.fill()}if(aD>0&&(aH||aC||aP||aI)){aV.beginPath();aV.moveTo(aF,aK+aG);if(aH){aV.lineTo(aF,aQ+aG)}else{aV.moveTo(aF,aQ+aG)}if(aP){aV.lineTo(aU,aQ+aG)}else{aV.moveTo(aU,aQ+aG)}if(aC){aV.lineTo(aU,aK+aG)}else{aV.moveTo(aU,aK+aG)}if(aI){aV.lineTo(aF,aK+aG)}else{aV.moveTo(aF,aK+aG)}aV.stroke()}}function e(aE){function aD(aK,aJ,aM,aH,aL,aO,aN){var aP=aK.points,aG=aK.pointsize;for(var aI=0;aI<aP.length;aI+=aG){if(aP[aI]==null){continue}C(aP[aI],aP[aI+1],aP[aI+2],aJ,aM,aH,aL,aO,aN,F,aE.bars.horizontal,aE.bars.lineWidth)}}F.save();F.translate(o.left,o.top);F.lineWidth=aE.bars.lineWidth;F.strokeStyle=aE.color;var aC;switch(aE.bars.align){case"left":aC=0;break;case"right":aC=-aE.bars.barWidth;break;case"center":aC=-aE.bars.barWidth/2;break;default:throw new Error("Invalid bar alignment: "+aE.bars.align)}var aF=aE.bars.fill?function(aG,aH){return af(aE.bars,aE.color,aG,aH)}:null;aD(aE.datapoints,aC,aC+aE.bars.barWidth,0,aF,aE.xaxis,aE.yaxis);F.restore()}function af(aE,aC,aD,aG){var aF=aE.fill;if(!aF){return null}if(aE.fillColor){return an(aE.fillColor,aD,aG,aC)}var aH=c.color.parse(aC);aH.a=typeof aF=="number"?aF:0.4;aH.normalize();return aH.toString()}function m(){aw.find(".legend").remove();if(!N.legend.show){return}var aK=[],aH=[],aI=false,aQ=N.legend.labelFormatter,aP,aM;for(var aG=0;aG<P.length;++aG){aP=P[aG];if(aP.label){aM=aQ?aQ(aP.label,aP):aP.label;if(aM){aH.push({label:aM,color:aP.color})}}}if(N.legend.sorted){if(c.isFunction(N.legend.sorted)){aH.sort(N.legend.sorted)}else{var aF=N.legend.sorted!="descending";aH.sort(function(aS,aR){return aS.label==aR.label?0:((aS.label<aR.label)!=aF?1:-1)})}}for(var aG=0;aG<aH.length;++aG){entry=aH[aG];if(aG%N.legend.noColumns==0){if(aI){aK.push("</tr>")}aK.push("<tr>");aI=true}aK.push('<td class="legendColorBox"><div style="border:1px solid '+N.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+entry.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+entry.label+"</td>")}if(aI){aK.push("</tr>")}if(aK.length==0){return}var aO='<table style="font-size:smaller;color:'+N.grid.color+'">'+aK.join("")+"</table>";if(N.legend.container!=null){c(N.legend.container).html(aO)}else{var aL="",aD=N.legend.position,aE=N.legend.margin;if(aE[0]==null){aE=[aE,aE]}if(aD.charAt(0)=="n"){aL+="top:"+(aE[1]+o.top)+"px;"}else{if(aD.charAt(0)=="s"){aL+="bottom:"+(aE[1]+o.bottom)+"px;"}}if(aD.charAt(1)=="e"){aL+="right:"+(aE[0]+o.right)+"px;"}else{if(aD.charAt(1)=="w"){aL+="left:"+(aE[0]+o.left)+"px;"}}var aN=c('<div class="legend">'+aO.replace('style="','style="position:absolute;'+aL+";")+"</div>").appendTo(aw);if(N.legend.backgroundOpacity!=0){var aJ=N.legend.backgroundColor;if(aJ==null){aJ=N.grid.backgroundColor;if(aJ&&typeof aJ=="string"){aJ=c.color.parse(aJ)}else{aJ=c.color.extract(aN,"background-color")}aJ.a=1;aJ=aJ.toString()}var aC=aN.children();c('<div style="position:absolute;width:'+aC.width()+"px;height:"+aC.height()+"px;"+aL+"background-color:"+aJ+';"> </div>').prependTo(aN).css("opacity",N.legend.backgroundOpacity)}}}var ab=[],K=null;function I(aJ,aH,aE){var aP=N.grid.mouseActiveRadius,a1=aP*aP+1,aZ=null,aS=false,aX,aV,aU;for(aX=P.length-1;aX>=0;--aX){if(!aE(P[aX])){continue}var aQ=P[aX],aI=aQ.xaxis,aG=aQ.yaxis,aW=aQ.datapoints.points,aR=aI.c2p(aJ),aO=aG.c2p(aH),aD=aP/aI.scale,aC=aP/aG.scale;aU=aQ.datapoints.pointsize;if(aI.options.inverseTransform){aD=Number.MAX_VALUE}if(aG.options.inverseTransform){aC=Number.MAX_VALUE}if(aQ.lines.show||aQ.points.show||aQ.dashes.show){for(aV=0;aV<aW.length;aV+=aU){var aL=aW[aV],aK=aW[aV+1];if(aL==null){continue}if(aL-aR>aD||aL-aR<-aD||aK-aO>aC||aK-aO<-aC){continue}var aN=Math.abs(aI.p2c(aL)-aJ),aM=Math.abs(aG.p2c(aK)-aH),aT=aN*aN+aM*aM;if(aT<=a1){a1=aT;aZ=[aX,aV/aU]}}}if(aQ.bars.show&&!aZ){var aF=aQ.bars.align=="left"?0:-aQ.bars.barWidth/2,aY=aF+aQ.bars.barWidth;for(aV=0;aV<aW.length;aV+=aU){var aL=aW[aV],aK=aW[aV+1],a0=aW[aV+2];if(aL==null){continue}if(P[aX].bars.horizontal?(aR<=Math.max(a0,aL)&&aR>=Math.min(a0,aL)&&aO>=aK+aF&&aO<=aK+aY):(aR>=aL+aF&&aR<=aL+aY&&aO>=Math.min(a0,aK)&&aO<=Math.max(a0,aK))){aZ=[aX,aV/aU]}}}}if(aZ){aX=aZ[0];aV=aZ[1];aU=P[aX].datapoints.pointsize;return{datapoint:P[aX].datapoints.points.slice(aV*aU,(aV+1)*aU),dataIndex:aV,series:P[aX],seriesIndex:aX}}return null}function aa(aC){if(N.grid.hoverable){s("plothover",aC,function(aD){return !!aD.hoverable})}}function j(aC){if(N.grid.hoverable){s("plothover",aC,function(aD){return false})}}function Q(aC){s("plotclick",aC,function(aD){return !!aD.clickable})}function s(aD,aC,aE){var aF=w.offset(),aI=aC.pageX-aF.left-o.left,aG=aC.pageY-aF.top-o.top,aK=A({left:aI,top:aG});aK.pageX=aC.pageX;aK.pageY=aC.pageY;var aL=I(aI,aG,aE);if(aL){aL.pageX=parseInt(aL.series.xaxis.p2c(aL.datapoint[0])+aF.left+o.left,10);aL.pageY=parseInt(aL.series.yaxis.p2c(aL.datapoint[1])+aF.top+o.top,10)}if(N.grid.autoHighlight){for(var aH=0;aH<ab.length;++aH){var aJ=ab[aH];if(aJ.auto==aD&&!(aL&&aJ.series==aL.series&&aJ.point[0]==aL.datapoint[0]&&aJ.point[1]==aL.datapoint[1])){T(aJ.series,aJ.point)}}if(aL){v(aL.series,aL.datapoint,aD)}}aw.trigger(aD,[aK,aL])}function f(){var aC=N.interaction.redrawOverlayInterval;if(aC==-1){q();return}if(!K){K=setTimeout(q,aC)}}function q(){K=null;y.save();y.clearRect(0,0,E,G);y.translate(o.left,o.top);var aD,aC;for(aD=0;aD<ab.length;++aD){aC=ab[aD];if(aC.series.bars.show){t(aC.series,aC.point)}else{az(aC.series,aC.point)}}y.restore();ao(al.drawOverlay,[y])}function v(aE,aC,aG){if(typeof aE=="number"){aE=P[aE]}if(typeof aC=="number"){var aF=aE.datapoints.pointsize;aC=aE.datapoints.points.slice(aF*aC,aF*(aC+1))}var aD=am(aE,aC);if(aD==-1){ab.push({series:aE,point:aC,auto:aG});f()}else{if(!aG){ab[aD].auto=false}}}function T(aE,aC){if(aE==null&&aC==null){ab=[];f()}if(typeof aE=="number"){aE=P[aE]}if(typeof aC=="number"){aC=aE.data[aC]}var aD=am(aE,aC);if(aD!=-1){ab.splice(aD,1);f()}}function am(aE,aF){for(var aC=0;aC<ab.length;++aC){var aD=ab[aC];if(aD.series==aE&&aD.point[0]==aF[0]&&aD.point[1]==aF[1]){return aC}}return -1}function az(aF,aE){var aD=aE[0],aJ=aE[1],aI=aF.xaxis,aH=aF.yaxis;highlightColor=(typeof aF.highlightColor==="string")?aF.highlightColor:c.color.parse(aF.color).scale("a",0.5).toString();if(aD<aI.min||aD>aI.max||aJ<aH.min||aJ>aH.max){return}var aG=aF.points.radius+aF.points.lineWidth/2;y.lineWidth=aG;y.strokeStyle=highlightColor;var aC=1.5*aG;aD=aI.p2c(aD);aJ=aH.p2c(aJ);y.beginPath();if(aF.points.symbol=="circle"){y.arc(aD,aJ,aC,0,2*Math.PI,false)}else{aF.points.symbol(y,aD,aJ,aC,false)}y.closePath();y.stroke()}function t(aF,aC){var aG=(typeof aF.highlightColor==="string")?aF.highlightColor:c.color.parse(aF.color).scale("a",0.5).toString(),aE=aG,aD=aF.bars.align=="left"?0:-aF.bars.barWidth/2;y.lineWidth=aF.bars.lineWidth;y.strokeStyle=aG;C(aC[0],aC[1],aC[2]||0,aD,aD+aF.bars.barWidth,0,function(){return aE},aF.xaxis,aF.yaxis,y,aF.bars.horizontal,aF.bars.lineWidth)}function an(aK,aC,aI,aD){if(typeof aK=="string"){return aK}else{var aJ=F.createLinearGradient(0,aI,0,aC);for(var aF=0,aE=aK.colors.length;aF<aE;++aF){var aG=aK.colors[aF];if(typeof aG!="string"){var aH=c.color.parse(aD);if(aG.brightness!=null){aH=aH.scale("rgb",aG.brightness)}if(aG.opacity!=null){aH.a*=aG.opacity}aG=aH.toString()}aJ.addColorStop(aF/(aE-1),aG)}return aJ}}}c.plot=function(g,e,d){var f=new b(c(g),e,d,c.plot.plugins);return f};c.plot.version="0.7";c.plot.plugins=[];function a(e,d){return d*Math.floor(e/d)}c.plot.formatDate=function(l,f,h){var o=function(d){d=""+d;return d.length==1?"0"+d:d};var e=[];var p=false,j=false;var n=l.getUTCHours();var k=n<12;if(h==null){h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}if(f.search(/%p|%P/)!=-1){if(n>12){n=n-12}else{if(n==0){n=12}}}for(var g=0;g<f.length;++g){var m=f.charAt(g);if(p){switch(m){case"h":m=""+n;break;case"H":m=o(n);break;case"M":m=o(l.getUTCMinutes());break;case"S":m=o(l.getUTCSeconds());break;case"d":m=""+l.getUTCDate();break;case"m":m=""+(l.getUTCMonth()+1);break;case"y":m=""+l.getUTCFullYear();break;case"b":m=""+h[l.getUTCMonth()];break;case"p":m=(k)?("am"):("pm");break;case"P":m=(k)?("AM"):("PM");break;case"0":m="";j=true;break}if(m&&j){m=o(m);j=false}e.push(m);if(!j){p=false}}else{if(m=="%"){p=true}else{e.push(m)}}}return e.join("")}})(jQuery);